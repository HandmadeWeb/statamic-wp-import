(()=>{"use strict";function t(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}const e=function(t,n,e,o,i,s,r,c){var u,a="function"==typeof t?t.options:t;if(n&&(a.render=n,a.staticRenderFns=e,a._compiled=!0),o&&(a.functional=!0),s&&(a._scopeId="data-v-"+s),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},a._ssrRegister=u):i&&(u=c?function(){i.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(a.functional){a._injectStyles=u;var h=a.render;a.render=function(t,n){return u.call(n),h(t,n)}}else{var l=a.beforeCreate;a.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:a}}({props:{token:String},data:function(){return{exporting:!1,exported:!1,exportFailed:!1,exportError:null,importing:!1,imported:!1,importFailed:!1,importError:null,summary:null,showAllPages:!1,showCollections:[],showTaxonomies:[],counter:null,hours:0,minutes:0,seconds:0}},computed:{totalPages:function(){return this.summary.pages&&Object.keys(this.summary.pages).length},showPagesSection:function(){return this.summary&&this.summary.pages&&!this.importing&&!this.imported&&!this.importFailed},showCollectionsSection:function(){return this.summary&&this.summary.collections},showTaxonomiesSection:function(){return this.summary&&this.summary.taxonomies},totalEntries:function(){return this.calculateTotalEntries()}},mounted:function(){this.summary=window.ImportSummary},methods:{startImport:function(){var t=this;this.importing=!0,this.imported=!1,this.importFailed=!1,this.importError=null,this.$progress.start("wp-import"),this.startTimer(),fetch(cp_url("wp-import/import"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({_token:this.token,summary:this.summary})}).then((function(n){return t.importing=!1,n.ok?t.imported=!0:(t.importFailed=!0,t.importError=n.statusText+" ("+n.status+")"),t.$progress.complete("wp-import"),t.stopTimer(),n.json()})).then((function(t){console.log(t)}))},hasDuplicates:function(t){return!!this.duplicateCount(t)},duplicateCount:function(t){var n=0;return t.forEach((function(t){t.exists&&n++})),n},uncheckDuplicates:function(t){t.forEach((function(t){t.exists&&(t._checked=!1)}))},uncheckAll:function(t){t.forEach((function(t){t._checked=!1}))},checkAll:function(t){t.forEach((function(t){t._checked=!0}))},size:function(t){return Object.keys(t).length},showCollection:function(n){this.showCollections.push(n),this.showCollections=t(new Set(this.showCollections))},hideCollection:function(t){this.showCollections=this.showCollections.filter((function(n){return n!==t}))},shouldShowCollection:function(t){return this.showCollections.includes(t)},showTaxonomy:function(n){this.showTaxonomies.push(n),this.showTaxonomies=t(new Set(this.showTaxonomies))},hideTaxonomy:function(t){this.showTaxonomies=this.showTaxonomies.filter((function(n){return n!==t}))},shouldShowTaxonomy:function(t){return this.showTaxonomies.includes(t)},calculateTotalEntries:function(){var t=this,n=0;return this.summary.pages&&Object.keys(this.summary.pages).forEach((function(e){t.summary.pages[e]._checked&&n++})),this.summary.collections&&Object.keys(this.summary.collections).forEach((function(e){Object.keys(t.summary.collections[e].entries).forEach((function(o){t.summary.collections[e].entries[o]._checked&&n++}))})),this.summary.taxonomies&&Object.keys(this.summary.taxonomies).forEach((function(e){Object.keys(t.summary.taxonomies[e].terms).forEach((function(o){t.summary.taxonomies[e].terms[o]._checked&&n++}))})),n},startTimer:function(){var t=this;this.minutes=this.checkSingleDigit(0),this.seconds=this.checkSingleDigit(0),this.counter=setInterval((function(){var n=new Date(0,0,0,parseInt(t.hours),parseInt(t.minutes),parseInt(t.seconds)+1);t.hours=n.getHours(),t.minutes=t.checkSingleDigit(n.getMinutes()),t.seconds=t.checkSingleDigit(n.getSeconds())}),1e3)},stopTimer:function(){clearInterval(this.counter)},checkSingleDigit:function(t){return("0"+t).slice(-2)}}},undefined,undefined,!1,null,null,null).exports;Statamic.booting((function(){Statamic.$components.register("wp-importer",e)}))})();